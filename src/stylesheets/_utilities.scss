@use './_variables' as vars;
@use 'sass:map';

// FONTS

.brand-font {
  font-family: 'Comfortaa', sans-serif;
  font-weight: 300;
}

// DISPLAY

.hidden {
  display: none;
}

@each $size, $query in vars.$breakpoints {
  @media (#{$query}) {
    .#{$size}-hidden {
      display: none;
    }
  }
}

// POSITIONING

.pos-rel {
  position: relative;
}

.pos-abs {
  position: absolute;
}

// FLEX

@mixin gaps($prefix: '') {
  .#{$prefix}gap-none {
    gap: 0;
  }
  .#{$prefix}gap-sm {
    gap: 1rem;
  }

  .#{$prefix}gap-md {
    gap: 2rem;
  }

  .#{$prefix}gap-lg {
    gap: 4rem;
  }
}

@include gaps();

@each $size, $query in vars.$breakpoints {
  @media (#{$query}) {
    @include gaps(#{$size}-);
  }
}

@mixin flex-parents($prefix: '') {
  .#{$prefix}flex-row {
    display: flex;
  }

  .#{$prefix}flex-column {
    display: flex;
    flex-direction: column;
  }
}

@include flex-parents();

@each $size, $query in vars.$breakpoints {
  @media (#{$query}) {
    @include flex-parents(#{$size}-);
  }
}

.flex-item {
  flex: 1;
}

.flex-item-2 {
  flex: 2;
}

.flex-item-3 {
  flex: 3;
}

.flex-item-4 {
  flex: 4;
}

.align-center {
  align-items: center;
}

.justify-center {
  justify-content: center;
}

.justify-end {
  justify-content: flex-end;
}

.flex-center {
  align-items: center;
  justify-content: center;
}

.justify-self-center {
  justify-self: center;
}

.align-self-center {
  align-self: center;
}

.align-self-end {
  align-self: flex-end;
}

.row-flex-beyond {
  flex: 1 0 110vw;
  max-width: vars.$max-content-width;
}

@each $size, $query in vars.$breakpoints {
  @media (#{$query}) {
    .#{$size}-align-self-end {
      align-self: flex-end;
    }
    .#{$size}-row-flex-beyond {
      flex: 1 0 110vw;
      max-width: vars.$max-content-width;
    }
  }
}

.align-end {
  align-items: flex-end;
}

.space-between {
  justify-content: space-between;
}

.space-around {
  justify-content: space-around;
}

// PADDING & MARGINS

@mixin spacing($size: '') {
  @each $space in (vars.$spacing-rems) {
    $prefix: #{$size}- !default;
    @if $size == '' {
      $prefix: #{$size};
    }
    .#{$prefix}pr-#{$space} {
      padding-right: #{$space}rem;
    }
    .#{$prefix}pl-#{$space} {
      padding-left: #{$space}rem;
    }
    .#{$prefix}pt-#{$space} {
      padding-top: #{$space}rem;
    }
    .#{$prefix}pb-#{$space} {
      padding-bottom: #{$space}rem;
    }
    .#{$prefix}py-#{$space} {
      padding-top: #{$space}rem;
      padding-bottom: #{$space}rem;
    }
    .#{$prefix}px-#{$space} {
      padding-left: #{$space}rem;
      padding-right: #{$space}rem;
    }
    .#{$prefix}p-#{$space} {
      padding: #{$space}rem;
    }
    .#{$prefix}mr-#{$space} {
      margin-right: #{$space}rem;
    }
    .#{$prefix}ml-#{$space} {
      margin-left: #{$space}rem;
    }
    .#{$prefix}mt-#{$space} {
      margin-top: #{$space}rem;
    }
    .#{$prefix}mb-#{$space} {
      margin-bottom: #{$space}rem;
    }
    .#{$prefix}my-#{$space} {
      margin-top: #{$space}rem;
      margin-bottom: #{$space}rem;
    }
    .#{$prefix}mx-#{$space} {
      margin-left: #{$space}rem;
      margin-right: #{$space}rem;
    }
    .#{$prefix}m-#{$space} {
      margin: #{$space}rem;
    }
  }
}

@include spacing();

@each $size, $query in vars.$breakpoints {
  @media (#{$query}) {
    @include spacing($size);
  }
}

.px-half {
  padding-left: 0.5rem;
  padding-right: 0.5rem;
}

.pt-half {
  padding-top: 0.5rem;
}

.pr-half {
  padding-right: 0.5rem;
}

// MARGIN

.m-auto {
  margin: auto;
}

.mt-0 {
  margin-top: 0;
}

.mt-4 {
  margin-top: 4rem;
}

.mt-8 {
  margin-top: 8rem;
}

.mx-auto {
  margin-left: auto;
  margin-right: auto;
}

.my-max {
  margin-top: 8rem;
  margin-bottom: 8rem;
}

.my-auto {
  margin-top: auto;
  margin-bottom: auto;
}

.width-control {
  max-width: vars.$max-content-width;
}

@mixin subgrid($size) {
  &.#{$size}-subgrid {
    grid-template-columns: subgrid;
    grid-template-rows: subgrid;
  }
}

@mixin grid-template-cols($size, $cols) {
  --#{$size}-grid-template-columns: repeat(#{$cols}, 1fr);
  grid-template-columns: var(--#{$size}-grid-template-columns);
}

@mixin grid-col-gaps($size, $rems) {
  --#{$size}-grid-col-gaps: #{$rems}rem;
  column-gap: var(--#{$size}-grid-col-gaps);
}

@mixin grid-template-rows($size, $cols) {
  --#{$size}-grid-template-rows: repeat(#{$cols}, 1fr);
  grid-template-rows: var(--#{$size}-grid-template-rows);
}

@mixin grid-row-gaps($size, $rems) {
  --#{$size}-grid-row-gaps: #{$rems}rem;
  row-gap: var(--#{$size}-grid-row-gaps);
}

@mixin grid-container-xl {
  display: grid;
  @include subgrid('xl');
  @include grid-col-gaps('xl', 8);
  @include grid-row-gaps('xl', 8);
}

@mixin grid-container-lg {
  display: grid;
  @include subgrid('lg');
  @include grid-col-gaps('lg', 8);
  @include grid-row-gaps('lg', 8);
}

@mixin grid-container-sm {
  display: grid;
  @include subgrid('sm');
  @include grid-col-gaps('sm', 2);
  @include grid-row-gaps('sm', 2);
}

@mixin grid-container-md {
  display: grid;
  @include subgrid('md');
  @include grid-col-gaps('md', 4);
  @include grid-row-gaps('md', 4);
}

@mixin grid-container-base($size, $cols, $rows) {
  $gap: (
    'xl': 8,
    'lg': 8,
    'md': 4,
    'sm': 2,
  );
  display: grid;
  @include subgrid($size);
  @include grid-col-gaps($size, map.get($gap, $size));
  @include grid-row-gaps($size, map.get($gap, $size));
  @include grid-template-cols($size, $cols);
  @include grid-template-rows($size, $rows);
}

@mixin thin-column-gap {
  column-gap: 2rem;
}

@each $size, $query in vars.$breakpoints {
  @media (#{$query}) {
    [class^='gridarea-'] {
      > :first-child {
        margin-top: 0;
      }
    }
    .#{$size}-grid-1-1 {
      display: flex;
      flex-direction: column;
      gap: var(--#{$size}-grid-row-gaps);
    }
    .#{$size}-grid-1-2 {
      @include grid-container-base($size, 1, 2);
      grid-template-areas: 'area1' 'area2';
      gap: var(--#{$size}-grid-row-gaps);
    }
    .#{$size}-grid-1-3 {
      @include grid-container-base($size, 1, 3);
      grid-template-areas: 'area1' 'area2' 'area3';
      gap: var(--#{$size}-grid-row-gaps);
    }
    .#{$size}-grid-1-4 {
      @include grid-container-base($size, 1, 4);
      grid-template-areas: 'area1' 'area2' 'area3' 'area4';
      gap: var(--#{$size}-grid-row-gaps);
    }
    .#{$size}-grid-2-1 {
      @include grid-container-base($size, 2, 1);
      grid-template-areas: 'area1 area2';
      gap: var(--#{$size}-grid-col-gaps);
    }
    .#{$size}-grid-2-2 {
      @include grid-container-base($size, 2, 2);
      grid-template-areas:
        'area1 area2'
        'area3 area4';
    }
    .#{$size}-grid-2-3 {
      @include grid-container-base($size, 2, 3);
      grid-template-areas:
        'area1 area2'
        'area3 area4'
        'area5 area6';
    }
    .#{$size}-grid-2-4 {
      @include grid-container-base($size, 2, 4);
      grid-template-areas:
        'area1 area2'
        'area3 area4'
        'area5 area6'
        'area7 area8';
    }
    .#{$size}-grid-2-5 {
      @include grid-container-base($size, 2, 5);
      grid-template-areas:
        'area1 area2'
        'area3 area4'
        'area5 area6'
        'area7 area8'
        'area9 area10';
    }
    .#{$size}-grid-3-1 {
      @include grid-container-base($size, 3, 1);
      grid-template-areas: 'area1 area2 area3';
      gap: var(--#{$size}-grid-col-gaps);
    }
    .#{$size}-grid-3-2 {
      @include grid-container-base($size, 3, 2);
      grid-template-areas:
        'area1 area2 area3'
        'area4 area5 area6';
    }
    .#{$size}-grid-3-3 {
      @include grid-container-base($size, 3, 3);
      grid-template-areas:
        'area1 area2 area3'
        'area4 area5 area6'
        'area7 area8 area9';
    }
    .#{$size}-grid-3-4 {
      @include grid-container-base($size, 3, 4);
      grid-template-areas:
        'area1 area2 area3'
        'area4 area5 area6'
        'area7 area8 area9'
        'area10 area11 area12';
    }
    .#{$size}-grid-4-2 {
      @include grid-container-base($size, 4, 2);
      grid-template-areas:
        'area1 area2 area3 area4'
        'area5 area6 area7 area8';
    }
    .#{$size}-grid-4-3 {
      @include grid-container-base($size, 4, 3);
      grid-template-areas:
        'area1 area2 area3 area4'
        'area5 area6 area7 area8'
        'area9 area10 area11 area12';
    }
    .#{$size}-grid-5-1 {
      @include grid-container-base($size, 5, 1);
      grid-template-areas: 'area1 area2 area3 area4 area5';
      gap: var(--#{$size}-grid-col-gaps);
    }
    .#{$size}-grid-5-2 {
      @include grid-container-base($size, 5, 2);
      grid-template-areas:
        'area1 area2 area3 area4 area5'
        'area6 area7 area8 area9 area10';
    }
    .#{$size}-cols-40-60 {
      grid-template-columns: auto 60%;
    }
    .#{$size}-cols-30-70 {
      grid-template-columns: auto 70%;
    }
    .#{$size}-cols-60-40 {
      grid-template-columns: 60% auto;
    }
    .#{$size}-cols-70-30 {
      grid-template-columns: 70% auto;
    }
    .#{$size}-rows-70-30 {
      grid-template-rows: 70% auto;
    }
    .#{$size}-rows-auto-1-1 {
      grid-template-rows: auto 1fr 1fr;
    }
    .#{$size}-rows-1-auto {
      grid-template-rows: 1fr auto;
    }
  }
}

@mixin corner-icon($name, $top-or-bottom, $left-or-right) {
  .icon-#{$name} {
    background-image: url('/icons/#{$name}.svg');
    position: absolute;
    #{$top-or-bottom}: 0;
    #{$left-or-right}: 0;
  }
}

@mixin gridarea($area, $prefix: '') {
  .#{$prefix}gridarea-#{$area} {
    grid-area: area#{$area};
    order: #{$area};
  }
}

@mixin gridareas($prefix: '') {
  @for $area from 1 through 12 {
    @include gridarea($area, $prefix);
  }
}

// Generate generic grid area classes, eg. gridarea-1
@include gridareas();

// Generate screensize-specific grid area classes, eg. md-gridarea-1
@each $size, $query in vars.$breakpoints {
  @media (#{$query}) {
    @include gridareas(#{$size}-);
  }
}

@mixin gridspans($prefix: '') {
  .#{$prefix}col-span-2 {
    grid-column: span 2;
  }

  .#{$prefix}col-span-3 {
    grid-column: span 3;
  }

  .#{$prefix}col-span-4 {
    grid-column: span 4;
  }

  .#{$prefix}col-span-2-3 {
    grid-column: area5 / span 2;
  }

  .#{$prefix}col-span-5-6 {
    grid-column: area5 / span 2;
  }

  .#{$prefix}row-span-2 {
    grid-row: span 2;
  }
  .#{$prefix}row-span-3 {
    grid-row: span 3;
  }
}

// Generate generic col and row span classes, eg. col-span-2
@include gridspans();

// Generate screensize-specific col and row span classes, eg. md-col-span-2
@each $size, $query in vars.$breakpoints {
  @media (#{$query}) {
    @include gridspans(#{$size}-);
  }
}

.grid-area-center {
  align-self: center;
}

.no-gaps {
  row-gap: 0;
  column-gap: 0;
}

.no-col-gaps {
  column-gap: 0;
}

.no-row-gaps {
  row-gap: 0;
}

.max-content-rows {
  grid-template-rows: max-content;
}

.max-content-cols {
  grid-template-columns: max-content;
}

.no-figure-margins {
  figure {
    margin: 0;
  }
}

.figure-mx-auto {
  figure {
    margin-left: auto;
    margin-right: auto;
  }
}

// TEXT

.text-strong {
  font-weight: 700;
}

.text-no-wrap {
  white-space: nowrap;
}

// COLORS

.color-green {
  color: vars.$green;
}

.blue {
  color: vars.$blue;
}

.color-light {
  color: vars.$light;
}

.opacity-80 {
  opacity: 0.8;
}

.opacity-100 {
  opacity: 1;
}

.box-outline-blue,
.box-outline-green,
.box-fill-white {
  border: 2px solid;
  padding: 0.15rem 0.5rem 0.35rem;
  border-radius: 0.375rem;
  margin-left: 0.25rem;
  margin-right: 0.25rem;
  font-size: 1.1rem;
  font-weight: 400;
}
.box-outline-blue {
  border-color: vars.$blue;
}

.box-outline-green {
  border-color: vars.$green;
}

.box-fill-white {
  background-color: vars.$light;
  color: vars.$dark;
}

// BORDERS

.border-bottom-dark {
  border-bottom: 1px solid rgba(vars.$light, 0.2);
}

// TABLET

@media (min-width: 1201px) {
  .lg-row-span-2 {
    grid-row: span 2;
  }

  .lg-row-span-center {
    align-self: center;
  }
}

.rows-auto {
  grid-template-rows: auto;
}
